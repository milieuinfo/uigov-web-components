import { ArgsTable, DocsStory, PRIMARY_STORY, Source } from '@storybook/addon-docs';

# Data Table

Gebruik het `data-table` component om op een gestructureerde manier (grote hoeveelheden) relationele data te tonen.

## Voorbeeld

```js
import { VlDataTable } from '@domg-wc/components';
```

```html
<table is="vl-data-table">
    <caption>
        Data table
    </caption>
    <thead>
        <tr>
            <th>Entry Header 1</th>
            <th>Entry Header 2</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td data-title="Entry Header 1">Entry line 1</td>
            <td data-title="Entry Header 2">Entry line 2</td>
        </tr>
        <tr>
            <td data-title="Entry Header 1">Entry line 1</td>
            <td data-title="Entry Header 2">Entry line 2</td>
        </tr>
    </tbody>
</table>
```

## Default

<DocsStory id="elements-data-table--data-table-default" />

## Functionaliteit

Standaard is er geen sorteer, filtering of paginatie functionaliteit beschikbaar voor de `data-table`. Hiervoor is de [rich-data-table](?path=/docs/components-rich-data-table--rich-data-table-default) beschikbaar.<br/>
Wat dit component wel méér heeft dan die van Digitaal Vlaanderen zijn expandable/collapsible rows. Zie de specifieke stories hieronder.<br/>
De visuele mark-up volgt standaard die van Digitaal Vlaanderen, inclusief responsiveness.

## Lege cellen

Het is aan te raden om in lege cellen de waarde `&nbsp;` te plaatsen, dit zorgt ervoor dat rijen hun hoogte behouden indien elke cel van een rij leeg is.

## Joined row titles

Gebruik de matrixvariant om gegevens met 2 dimensies weer te geven. Zowel de rijen als de kolommen krijgen een titel. De titels zijn gescheiden van de inhoud met een vetgedrukte lijn.<br/>
Om dit toe passen maak je zelf gebruik van native html-attribuut `rowspan`.

<DocsStory id="elements-data-table--data-table-joined-row-titles" />

## Expandable

Om een rijen te laten uitklappen ("expanden") moet je het volgende doen:<br/>
Als je 2 rijen hebt, en je wil rij A altijd zichtbaar zetten en rij B verborgen tot die word opengeklapt:

-   maak een nieuwe rij B direct na rij A
-   zet je het attribuut `data-details-id` op de rij B

<details>
    <summary>voorbeeld expandable row</summary>
    <Source
        language="html"
        dark
        format={true}
        code={`
              <tr id="rij-A">
                  <td>1</td>
                  <td>2</td>
                  <td>3</td>
                  <td>4</td>
              </tr>
              <tr data-details-id="details-row-A" id="rij-B">
                  <td>details on previous row</td>
              </tr>`}
    ></Source>
</details>

Dan zal er automatisch een `button` toegevoegd worden die de gebruiker toelaat de rij B te zien wanneer op de desbetreffende knop bij rij A word gedrukt.

<DocsStory id="elements-data-table--data-table-expandable" />

## Expandable with custom toggle

Je kan ook de knop die de rij open en dicht klapt zelf kiezen.<br/>
Als je 2 rijen hebt, en je wil rij A altijd zichtbaar zetten en rij B verborgen tot die word opengeklapt:<br/>
Om dit te doen, doe het volgende:<br/>

-   op de rij die meer details geeft op de voorgaande rij, moet de juiste id worden toegekend

<Source
    language="html"
    format={true}
    code={`
        <tr data-details-id="details-row1">
            <td>Details 1</td>
        </tr>
          `}
></Source>

-   op rij die meer details heeft, een cel toevoegen die:
    -   `with-expand-details` heeft als attribuut
    -   een element naar keuze heeft, die `toggleDetails([id])` gaat aanroepen met de juiste id voor de openklapbare rij
        bv.:

<Source
    language="html"
    format={true}
    code={`
       <td with-expand-details>
           <button is="vl-button" onclick="table.toggleDetails('details-row-1')">click to toggle details</button>
       </td>
          `}
></Source>

**_In dit voorbeeld vind je bij `Show code` broncode in `lit-html`-syntax. Voor code voorbeelden in HTML/JavaScript verwijzen we naar hierboven._**

<DocsStory id="elements-data-table--data-table-expandable-custom-toggle-details-column"></DocsStory>

## Configuratie

<ArgsTable story={PRIMARY_STORY} />

## Referenties

### Digitaal Vlaanderen

We nemen de functionaliteit & styling over van het equivalente component van Digitaal Vlaanderen.

**Documentatie Digitaal Vlaanderen:** https://overheid.vlaanderen.be/webuniversum/v3/documentation/components/vl-ui-data-table/

### Legacy Documentatie

**Legacy Storybook:** https://uig-webcomponents.omgeving.vlaanderen.be/?path=/docs/native-elements-vl-data-table--default

**Legacy Documentatie:** https://webcomponenten.omgeving.vlaanderen.be/doc/VlDataTable.html

**Legacy Demo:** https://webcomponenten.omgeving.vlaanderen.be/demo/vl-data-table.html
