import { ArgTypes, Canvas, Source } from '@storybook/addon-docs';
import * as VlSelectStories from './vl-select.stories';
import FormControlPublicMethods from '../../form-control/stories/form-control.public-methods-doc.mdx'

# Select - next

Gebruik de `select-next` component om een select veld toe te voegen aan een pagina.<br/>
Zie het [form demo](/docs/ontwerp-form-demo--documentatie) voorbeeld voor het gebruik binnen een form.

Dit component is de volgende versie van de [vl-select](/docs/elements-select--documentatie) component, we raden aan op termijn deze versie te gebruiken.

## Voorbeeld

```js
import { VlSelectComponent } from '@domg-wc/form/next/select';
```

```html
<vl-select-next></vl-select-next>
```

<Canvas of={VlSelectStories.SelectDefault} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt' },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

## Configuratie

<ArgTypes of={VlSelectStories.SelectDefault} />

## Publieke methodes

<FormControlPublicMethods />

## Styles

De styles van DV zijn lokaal gezet en aangepast omdat deze niet CSP compliant waren.<br/>
Er werd gebruik gemaakt van een `data:` attribuut om een SVG op te halen van w3.org.
Hierdoor breekt de CSP compliance tenzij je alle `data:` attributen whitelist, wat niet de bedoeling is.

## Select event

Bij het selecteren of verwijderen van een optie wordt het `vl-select` event afgevuurd, het detail object van dit event bevat de value van de geselecteerde opties.<br/>

## Select opties

De `options` property bevat een array van objecten die de opties van de select component bevatten.

Als de referentie van deze array verandert, wordt de Lit lifecycle getriggerd en wordt de select opnieuw opgebouwd op basis van de nieuwe opties.<br/>
Hierdoor is het noodzakelijk om de opties door te geven aan de select component met behulp van een variabele, en de opties niet direct in de template te zetten.<br/>
Indien je de opties direct in de template zet, zal bij elke render de select opnieuw opgebouwd worden en de gekozen opties verwijderd worden.

Dit betekent ook dat als je programmatorisch een optie wil veranderen, toevoegen of verwijderen, je de referentie van de array moet aanpassen.<br/>
Dit kan je doen door de opties de spreaden in een nieuwe array (`[...options]`).

## Accessibility

Dit component is volledig accessible, we raden aan waar mogelijk gebruik te maken van dit component in plaats van de [vl-select-rich](/docs/form-next-select-rich--documentatie).<br/>
Indien er minder dan 7 opties zijn raden we aan checkboxes of radio buttons te gebruiken.

## Varianten

### Niet Verwijderbaar

<Canvas of={VlSelectStories.SelectNotDeletable} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt' },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

### Groepen

<Canvas of={VlSelectStories.SelectGroups} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt', group: 'België' },
        { label: 'Turnhout', value: 'turnhout', group: 'België' },
        { label: 'Knokke-Heist', value: 'knokke-heist', group: 'België' },
        { label: 'Waregem', value: 'waregem', group: 'België' },
        { label: 'Lier', value: 'lier', group: 'België' },
        { label: 'Rio Piedras', value: 'rio piedras', group: 'Puerto Rico' }
]`} language="ts" dark={true} />
</details>

### Geselecteerde optie

Als je een optie programmatorisch wil selecteren moet je voor deze optie de 'selected' boolean op true zetten.

<Canvas of={VlSelectStories.SelectSelectedOption} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt', selected: true },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

### Disabled optie

Als je een optie programmatorisch wil uitzetten moet je voor deze optie de 'disabled' boolean op true zetten.

<Canvas of={VlSelectStories.SelectDisabledOption} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt', disabled: true },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

### Read only

Als je wil dat de select read only is, moet je voor alle opties de 'disabled' boolean op true zetten.<br/>
Indien de 'required' boolean op true staat, moet je een value programmatorisch selecteren of je form wordt unsubmittable.

<Canvas of={VlSelectStories.SelectReadOnly} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt', selected: true, disabled: true },
        { label: 'Turnhout', value: 'turnhout', disabled: true },
        { label: 'Knokke-Heist', value: 'knokke-heist', disabled: true },
        { label: 'Waregem', value: 'waregem', disabled: true },
        { label: 'Lier', value: 'lier', disabled: true },
        { label: 'Rio Piedras', value: 'rio piedras', disabled: true }
]`} language="ts" dark={true} />
</details>

## Referenties

### Digitaal Vlaanderen

[Documentatie Digitaal Vlaanderen - Select](https://overheid.vlaanderen.be/webuniversum/v3/documentation/forms/vl-ui-select)

### Legacy Documentatie

[Legacy Documentatie - Select](https://webcomponenten.omgeving.vlaanderen.be/doc/VlSelect.html)

[Legacy Demo - Select](https://webcomponenten.omgeving.vlaanderen.be/demo/vl-select.html)
