import { ArgTypes, Canvas, Source } from '@storybook/addon-docs';
import * as VlSelectRichStories from './vl-select-rich.stories';
import FormControlPublicMethods from '../../form-control/stories/form-control.public-methods-doc.mdx'

# Select Rich - next

Gebruik de `select-rich-next` component om een uitgebreid select of multiselect veld toe te voegen aan een pagina.<br/>
Zie het [form demo](/docs/ontwerp-form-demo--documentatie) voorbeeld voor het gebruik binnen een form.

Dit component is de volgende versie van de [vl-select](/docs/elements-select--documentatie) component en de [vl-multiselect](/docs/elements-multiselect--documentatie) component, we raden aan op termijn deze versie te gebruiken.

## Voorbeeld

```js
import { VlSelectRichComponent } from '@domg-wc/form/next/select-rich';
```

```html
<vl-select-rich-next></vl-select-rich-next>
```

<Canvas of={VlSelectRichStories.SelectRichDefault} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt' },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

## Configuratie

<ArgTypes of={VlSelectRichStories.SelectRichDefault} />

## Publieke methodes

<FormControlPublicMethods />

### getSelected(): string | string[]

Geeft de geselecteerde values terug.<br/>
Bij de single select geeft deze methode een string terug, bij de multi select een array van strings.

## Styles

De styles van DV zijn lokaal gezet en aangepast omdat deze niet CSP compliant waren.<br/>
Er werd gebruik gemaakt van een `data:` attribuut om een SVG op te halen van w3.org.
Hierdoor breekt de CSP compliance tenzij je alle `data:` attributen whitelist, wat niet de bedoeling is.

## Select event

Bij het selecteren of verwijderen van een optie wordt het `vl-select` event afgevuurd, het detail object van dit event bevat de value van de geselecteerde opties.<br/>
Gelijkaardig aan de `getSelected()` methode, bevat de value bij de single select 1 string en bij de multi select een array van strings.

## Select opties

De `options` property bevat een array van objecten die de opties van de select component bevatten.

Als de referentie van deze array verandert, wordt de Lit lifecycle getriggerd en wordt de select opnieuw opgebouwd op basis van de nieuwe opties.<br/>
Hierdoor is het noodzakelijk om de opties door te geven aan de select component met behulp van een variabele, en de opties niet direct in de template te zetten.<br/>
Indien je de opties direct in de template zet, zal bij elke render de select opnieuw opgebouwd worden en de gekozen opties verwijderd worden.

Dit betekent ook dat als je programmatorisch een optie wil veranderen, toevoegen of verwijderen, je de referentie van de array moet aanpassen.<br/>
Dit kan je doen door de opties de spreaden in een nieuwe array (`[...options]`).

## Accessibility

Door de complexiteit van dit component is het niet mogelijk om het WCAG-compliant aan te bieden.<br/>
We raden aan waar mogelijk gebruik te maken van de [vl-select](/docs/form-next-select--documentatie).<br/>
Indien er minder dan 7 opties zijn raden we aan checkboxes of radio buttons te gebruiken.

## Varianten

### Zoekfunctie

De zoekfunctie is standaard geactiveerd voor de multiselect.

<Canvas of={VlSelectRichStories.SelectRichSearch} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt' },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

### Verwijderbaar

<Canvas of={VlSelectRichStories.SelectRichDeletable} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt' },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

### Groepen

<Canvas of={VlSelectRichStories.SelectRichGroups} />

<details>
    <summary>options</summary>
    <Source code={`
    [
         {
            label: 'BelgiÃ«',
            value: '',
            choices: [
                { label: 'Hasselt', value: 'hasselt' },
                { label: 'Turnhout', value: 'turnhout' },
                { label: 'Knokke-Heist', value: 'knokke-heist' },
                { label: 'Waregem', value: 'waregem' },
                { label: 'Lier', value: 'lier' },
            ],
        },
        {
            label: 'Puerto Rico',
            value: '',
            choices: [{ label: 'Rio Piedras', value: 'rio piedras' }],
        }
]`} language="ts" dark={true} />
</details>

### Multiselect

De zoekfunctie is standaard geactiveerd voor de multiselect.

<Canvas of={VlSelectRichStories.SelectRichMultiple} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Padel', value: 'padel' },
        { label: 'Dans', value: 'dans' },
        { label: 'Drummen', value: 'drummen' },
        { label: 'Zwemmen', value: 'zwemmen' },
        { label: 'Boardgames', value: 'boardgames' },
        { label: 'Fietsen', value: 'fietsen' }
]`} language="ts" dark={true} />
</details>

### Geselecteerde optie

Als je een optie programmatorisch wil selecteren moet je voor deze optie de 'selected' boolean op true zetten.

<Canvas of={VlSelectRichStories.SelectRichSelectedOption} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt', selected: true },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

### Disabled optie

Als je een optie programmatorisch wil uitzetten moet je voor deze optie de 'disabled' boolean op true zetten.

<Canvas of={VlSelectRichStories.SelectRichDisabledOption} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt', disabled: true },
        { label: 'Turnhout', value: 'turnhout' },
        { label: 'Knokke-Heist', value: 'knokke-heist' },
        { label: 'Waregem', value: 'waregem' },
        { label: 'Lier', value: 'lier' },
        { label: 'Rio Piedras', value: 'rio piedras' }
]`} language="ts" dark={true} />
</details>

### Read only

Als je wil dat de select read only is, moet je voor alle opties de 'disabled' boolean op true zetten.<br/>
Indien de 'required' boolean op true staat, moet je een value programmatorisch selecteren of je form wordt unsubmittable.

<Canvas of={VlSelectRichStories.SelectRichReadOnly} />

<details>
    <summary>options</summary>
    <Source code={`
    [
        { label: 'Hasselt', value: 'hasselt', disabled: true, selected: true },
        { label: 'Turnhout', value: 'turnhout', disabled: true },
        { label: 'Knokke-Heist', value: 'knokke-heist', disabled: true },
        { label: 'Waregem', value: 'waregem', disabled: true },
        { label: 'Lier', value: 'lier', disabled: true },
        { label: 'Rio Piedras', value: 'rio piedras', disabled: true }
]`} language="ts" dark={true} />
</details>

## Referenties

### Choices.js

[Documentatie Choices.js](https://github.com/Choices-js/Choices)

### Digitaal Vlaanderen

[Documentatie Digitaal Vlaanderen - Select](https://overheid.vlaanderen.be/webuniversum/v3/documentation/forms/vl-ui-select)

[Documentatie Digitaal Vlaanderen - Multiselect](https://overheid.vlaanderen.be/webuniversum/v3/documentation/forms/vl-ui-multiselect)

### Legacy Documentatie

[Legacy Storybook - Multiselect](https://webcomponenten.omgeving.vlaanderen.be/storybook/?path=/docs/legacy-vl-multiselect--default)

[Legacy Documentatie - Select](https://webcomponenten.omgeving.vlaanderen.be/doc/VlSelect.html)

[Legacy Documentatie - Multiselect](https://webcomponenten.omgeving.vlaanderen.be/doc/VlMultiSelect.html)

[Legacy Demo - Select](https://webcomponenten.omgeving.vlaanderen.be/demo/vl-select.html)

[Legacy Demo - Multiselect](https://webcomponenten.omgeving.vlaanderen.be/demo/vl-multiselect.html)
