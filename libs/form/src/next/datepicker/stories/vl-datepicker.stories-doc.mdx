import { ArgTypes, Canvas } from '@storybook/addon-docs';
import * as VlDatepickerStories from './vl-datepicker.stories';
import FormControlPublicMethods from '../../form-control/stories/form-control.public-methods-doc.mdx'

# Datepicker - next

Gebruik de `datepicker-next` component om de gebruiker op een gebruiksvriendelijke manier een datum of tijd te laten selecteren.<br/>
Zie het [form demo](/docs/ontwerp-form-demo--documentatie) voorbeeld voor het gebruik binnen een form.

Dit component is de volgende versie van de [vl-datepicker](/docs/components-datepicker--documentatie) component, we raden aan op termijn deze versie te gebruiken.

## Voorbeeld

```js
import { VlDatepickerComponent } from '@domg-wc/form/next/datepicker';
```

```html
<vl-datepicker-next></vl-datepicker-next>
```

<Canvas of={VlDatepickerStories.DatepickerDefault} />

## Configuratie

<ArgTypes of={VlDatepickerStories.DatepickerDefault} />

## Publieke methodes

<FormControlPublicMethods />

## Formaat

Je kan het `format` attribuut gebruiken om de datumnotatie te wijzigen. Het default formaat is `d.m.Y`.<br/>
In onderstaand voorbeeld wordt de datumnotatie expliciet ingesteld op `d/m/Y`.
> `format="d/m/Y"` zal de datum tonen als `31/12/2023`

```html
<vl-datepicker-next format="d/m/Y"></vl-datepicker-next>
```

## Validatie

### Mask Validatie

- Er wordt automatisch mask validatie toegevoegd aan de datepicker met type `date` (standaard) of type `time`.
- De mask wordt opgebouwd op basis van het `format` attribuut.
- Je kan automatische mask validatie uitschakelen met het `disable-mask-validation` attribuut.
- De `patternMismatch` ValidityState key wordt gebruikt voor de mask validatie error.

### Pattern Validatie

- Als de mask validatie is uitgeschakeld, kan je met het `pattern` attribuut een regex patroon instellen. Je kan ook de `regex` property gebruiken voor complexere validatie.
- De `patternMismatch` ValidityState key wordt gebruikt voor de pattern validatie error.

## Conversie

Wanneer je een ander formaat wil gebruiken dan het formaat dat aan de gebruiker wordt getoond, moet je deze zelf omzetten.<br/>
Hiervoor kan je gebruik maken van de `flatpickr`-functie `formatDate`.

```ts
import flatpickr from 'flatpickr';

function convertDate(date: Date, format: string) {
  return flatpickr.formatDate(date, format);
}
```

## Gekende Beperkingen

- De datepicker is niet toegankelijk voor gebruikers die enkel met het toetsenbord navigeren. Ze kunnen wel manueel een datum invullen.
- Voor datepicker met type `datetime` & `range` is er geen automatische mask validatie voorzien gezien `cleave.js` hiervoor geen ondersteuning biedt.

## Referenties

### Flatpickr

[Documentatie Flatpickr](https://flatpickr.js.org/)

### Digitaal Vlaanderen

[Documentatie Digitaal Vlaanderen - Datepicker](https://overheid.vlaanderen.be/webuniversum/v3/documentation/components/vl-ui-datepicker/)

### Legacy Documentatie

[Legacy Storybook - Datepicker](https://webcomponenten.omgeving.vlaanderen.be/storybook/?path=/docs/custom-elements-vl-datepicker--default)

[Legacy Documentatie - Datepicker](https://webcomponenten.omgeving.vlaanderen.be/doc/VlDatepicker.html)

[Legacy Demo - Datepicker](https://webcomponenten.omgeving.vlaanderen.be/demo/vl-datepicker.html)
