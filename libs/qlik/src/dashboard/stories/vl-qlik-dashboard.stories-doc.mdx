import { ArgTypes, Canvas } from "@storybook/blocks";
import * as VlQlikDashboardStories from "./vl-qlik-dashboard.stories";

# Visual

Gebruik de <code>vl-qlik-dashboard</code> component om een dashboard te maken met Qlik visuals en eventueel filters. Het views object is ofwel een 2D `DashboardVisualization` array of een `Views` object, dat op zijn beurt een 2D `DashboardVisualization` array bevat.
De 2D `DashboardVisualization` array is zo gestructureerd om de opdeling te maken tussen rij en kolom.

## Voorbeeld

```js
import '@domg-wc/qlik/dashboard';
import { Qlik } from '@domg/qlik-lib';
import filters from './filters.js';
import viz_without_views from './visuals-without-views.json' assert {type: 'json'}

const connection = new Qlik("omgevingsloketrapport.omgeving.vlaanderen.be", "594c04b6-f319-4cb9-962c-24b0f7aa6f5e");
await connection.init();
this.connection = connection;

```

```html
<vl-qlik-dashboard .connection="${connection}" .visuals="${viz_without_views}" .filters="${filters}"></vl-qlik-dashboard>
```

<Canvas of={VlQlikDashboardStories.QlikDashboardWithFilters} />

## Configuratie

<ArgTypes of={VlQlikDashboardStories.QlikDashboardWithFilters} />

## Types

```ts
export type Filter = {
    id: string,
    filter: FilterObj
}

type FilterObj = {
    name: string,
    fieldQualifier: string,
    field: string,
    nrOfValues: number
}

export type DashboardVisualization = {
    type: string,
    id: string,
    height: string,
    width?: string,
    label: string,
    "align-label"?: string,
    "align-visual"?: string,
    colSize?: number,
    properties?: object,
    options?: object
}

export type InfoblockVisualization = {
    title: string,
    icon: string,
    type: string,
    id: string,
    height: string,
    width?: string,
    align: string,
    colSize?: number,
    properties?: object
    visuals?: InfoblockVisualization[][]
}

export type Views = {
    [key: string]: {
        order: number
        label: string,
        visualisations: DashboardVisualization[][]
    },
}
```

## Varianten

### Without filters

```js
import '@domg-wc/qlik/dashboard';
import { Qlik } from '@domg/qlik-lib';
import viz_without_views from './visuals-without-views.json' assert {type: 'json'}

const connection = new Qlik("omgevingsloketrapport.omgeving.vlaanderen.be", "594c04b6-f319-4cb9-962c-24b0f7aa6f5e");
await connection.init();
this.connection = connection;

```

```html
<vl-qlik-dashboard .connection=${connection} .visuals="${viz_without_views}"></vl-qlik-dashboard>
```

<Canvas of={VlQlikDashboardStories.QlikDashboardWithoutFilters} />
