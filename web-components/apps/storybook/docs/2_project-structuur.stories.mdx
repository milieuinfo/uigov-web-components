import { Meta } from '@storybook/addon-docs';

<Meta title="Ontwikkeling/Project Structuur" />

# Project Structuur

## Beschrijving

De (https://github.com/milieuinfo/uig) monorepo bevat alle ontwikkeling van het UIGOV-team, het frontend ontwikkel
team van Departement Omgeving. Hieronder staat de projectstructuur van deze repo beschreven. Achter de pijltjes
staan de artifacts gespecifieerd die uit de sub-projecten komen.

Technische documentatie is te vinden in de vorm van
[Markdown bestanden](https://github.com/milieuinfo/uig/tree/main/web-components/resources/docs).

## Opzet

Er zijn 5 repo's van UIGOV:
- uigov-applications
- uigov-cdn-assets
- uigov-pages
- uigov-styling
- uigov-web-components


### uigov-applications

Dit zijn de toepassingen ontwikkeld door het UIGOV-team. Momenteel is er enkel de 'Alliance' toepassing, deze toepassing
verduidelijkt hoe externe toepassingen de gepubliceerde packages kunnen gebruiken.

Deze repo gebruikt de nrwl/nx opzet.

### uigov-cdn-assets

De UIG libraries hebben externe afhankelijkheden. Voorbeelden hiervan zijn de fonts van Digitaal Vlaanderen en TinyMCE.
Die externe assets worden onder dit project opgenomen en gepubliceerd op de CDN van dOMG. Code in packages zal dus
gebruik maken van versies gepubliceerd op de CDN.

Deze repo bevat sub-folders die telkens een package.json bevat met de publicatie gegevens.

### uigov-styling

De hoofdbrok van de styling komt uit het Webuniversum van Digitaal Vlaanderen. Hun styling zit in verschillende
packages in .scss bestanden. Omdat UIG web-componenten bouwt op basis van het Lit framework en met een shadow
dom heeft dit technische gevolgen die tot css duplicatie leiden.

In deze repo worden de packages van DV ge-refereert, de sccs verwerkt en het resultaat ge-wrapped in .js bestanden.
Het resultaat wordt als ge-versioneerd artefact aangeboden waarop de uigov-web-components dan dependen.

Deze repo gebruikt de nrwl/nx opzet.

### uigov-web-components

Het UIGOV-team onderhoudt een componenten bibliotheek die hier te vinden is.

Deze repo gebruikt de nrwl/nx opzet.

## Structuur

Er wordt branch based gewerkt, de volgende default branches bestaan: main / beta.
Daarnaast worden er feature branches aangemaakt die na een PR terug verwijderd worden.

```
─ uigov-applications/ [nx]
  ├─ apps/
  │  ├─ alliance/
  │   -> niet als artefact publicerenb
─ uigov-cdn-assets/
   -> @domg-cdn/govflanders-font
   -> @domg-cdn/tinymce-theme
─ uigov-styling/
─ uigov-web-components/ [nx]
  ├─ apps/
  │  ├─ playground/
  │  ├─ storybook/
  │   -> niet als artefact publiceren
  ├─ libs/
  │  ├─ common/
  │  │  ├─ utilities/
  │  │  │   -> @domg-wc/common-utilities [ts]
  │  ├─ components/
  │  │   -> @domg-wc/components (http-error-message / proza-message) [ts]
  │  ├─ elements/
  │  │   -> @domg-wc/elements [ts]
  │  ├─ sections (accessibility / cookie / privacy / ...)
  │  │   -> @domg-wc/sections [ts]
  │  │   -> @domg-wc/fat-sections [ts]
  │  ├─ map/
  │  │   -> @domg-wc/map [ts]
  │  ├─ support/
  │  │   -> @domg-wc/react-support [ts]
  │  │   -> @domg-wc/test-support [js]
```
