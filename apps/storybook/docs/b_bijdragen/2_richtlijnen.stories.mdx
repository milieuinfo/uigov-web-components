import {Meta} from '@storybook/addon-docs';

<Meta title="Bijdragen/Richtlijnen"/>

# Richtlijnen

## Inhoudstafel

- [Code Formattering](#code-formattering)
- [Codeer Richtlijnen](#codeer-richtlijnen)


## Code Formattering

Code formattering gebeurd m.b.v. Prettier, de configuratie bevindt zich op root niveau in het `.prettierrc` bestand.

In <ins>IntelliJ</ins> kan je Prettier configureren door te gaan naar `Preferences > Languages & Frameworks > Prettier` <br/>
&nbsp;&nbsp;-> zorg dat `Prettier package` verwijst naar de juiste `node_modules/prettier` folder <br/>
&nbsp;&nbsp;-> vink beide vinkjes aan zodat Prettier wordt toegepast zowel bij expliciet formatteren als bij bewaren <br/>
&nbsp;&nbsp;-> 'Run for files' kan je configureren als `{**/*,*}.{js,mjs,ts,jsx,tsx}`


## Codeer Richtlijnen

### Backwards Compatibiliteit

> Belangrijk: het gaat hier om een componenten bibliotheek, er zijn verschillende versies van in omloop! Het is niet
zoals een toepassing waar een nieuwe release de vorige versie volledig vervangt!

- afnemers moeten (relatief) makkelijk kunnen upgraden
    - het streefdoel is backwards compatibel te blijven, je kan dus niet zomaar bestaande naamgeving
      (component, methode, attribuut) wijzigen
    - code in afnemende toepassingen kan extenden van onze code, er is geen volledig overzicht van alle afhankelijkheden
    - 'dode' code kan best gebruikt worden in een eindtoepassing, het wil gewoon zeggen dat er geen testen of andere
       referenties zijn in 'onze' codebase
    - 'levende' code in onze codebase kan mogelijks nergens gebruikt worden in een eindtoepassing (en feitelijk dood
       zijn)
- op termijn zullen er backwards incompatibele wijzigingen gebeuren, dat zal via major releases gebeuren die duidelijk
  gecommuniceerd en gedocumenteerd worden
- major releases worden gestuurd door ontwikkeling van het UIG-team, andere teams die bijdragen moeten steeds backwards
  compatibele code schrijven - refactorings in bestaande code zijn niet toegestaan voor hen
- toevoegingen zijn minder strikt, maar behoud de geest van de bestaande code (typisch het bestand in kwestie)
- een hoofddoel is consistentie te verkrijgen, een nieuwe aanpak introduceren kan enkel na overleg

### Web-Componenten

Voor de feitelijke code van de web-componenten zijn er nog geen eenduidige richtlijnen of conventies. Momenteel zijn er
2 basis klasses: BaseElement of LitElement. Op termijn willen we van alles LitElementen maken, wat als gevolg zal
hebben dat alles via een custom-tag gebruikt moet worden - dit introduceert echter incompatibiliteit, wat momenteel
vermeden moet worden!

De best practices zien er momenteel daarom als volgt uit:
1. kijk onder [Afnemen / Artifacts](/docs/afnemen-artifacts--documentatie) naar de verschillen tussen elementen en
   componenten en schrijf je web-component conform
2. voor nieuwe componenten is het doel ze ineens als LitElement te implementeren
3. nieuwe elementen (best te vermijden, een component heeft de voorkeur) kunnen technisch enkel als een BaseElement

### Typescript

We streven ernaar de componenten bibliotheek zo goed als mogelijk te typeren om bugs te vermijden en met meer vertrouwen
refactorings te kunnen doorvoeren. De huidige typering is beperkt, het is vaak JavaScript met minimale typing
toevoegingen. We streven ernaar dit stelselmatig te verbeteren - extra typing toevoegen mag dus!

> Opgelet 1: typing toevoeging is letterlijk de JavaScript code laten zoals ze is en enkel typing toevoegen, dus
geen code wijzigingen doorvoeren om te kunnen typen

> Opgelet 2: aanpassingen of verbeteringen dienen steeds te gebeuren met backwards-compatibiliteit in het achterhoofd
bvb. iets dat niet ge√Ønitialiseerd was nu ineens initialiseren is een risico (falsy-rules in combinatie met
onduidelijkheid over hoe afnemers onze code gebruiken)

### Icons

Doorheen verschillende componenten worden icons - voorzien door Digitaal Vlaanderen - gebruikt, op de DV
website vind je het overzicht van alle [beschikbare iconen](https://overheid.vlaanderen.be/webuniversum/v3/documentation/atoms/vl-ui-icon/).

### Cypress

Richtlijnen m.b.t. Storybook vind je terug onder [Bijdragen / Cypress](/docs/bijdragen-cypress--documentatie).

### Storybook

Richtlijnen m.b.t. Storybook vind je terug onder [Bijdragen / Storybook](/docs/bijdragen-storybook--documentatie).
